# T03. Минификация и сборка кода
## 1.  Минификация HTML
Разработать на языке C# (или на Node.js, используя только стандартные модули) программу, которая минифицирует входной HTML-файл.

Под минификацией подразумевается удаление лишних пробелов по следующим правилам:
- удаляются все пробельные символы в начале и в конце строк
- удаляются все пустые строки
- два и более пробельных символов внутри строки заменяются на один пробельный символ
- минификкацию __НЕ НУЖНО (!)__ производить внутри тегов `<textarea>`, `<pre>` и `<code>`

Пример входного файла:

```
<!doctype html>
<html>
   <head>
     <title>Hello      World!</title>
     <link rel="stylesheet"        href="/css/main.css">
     <link rel="shortcut icon" href="/favicon.png" type="image/png">
   </head>
   <body>                
     <a href="/index.html">Главная</a>    <h1> Котёнок по имени Гав  </h1>
     <pre>
        На чердаке жил котёнок по имени Гав. Он был рыжий. 
        
        Когда соседский кот узнал, что рыжего котёнка зовут Гав, он почесал спинку о трубу соседского дома и сказал:
        
         — Я бы не советовал котёнку с таким именем спускаться во двор. Во дворе котёнка с таким именем ждут одни неприятности.   
     </pre>
     <p>
         
        Котёнок Гав услышал и подумал: «Что это за неприятности и зачем они меня ждут?». Гав сейчас же спустился во двор и внимательно осмотрел все закоулки — нигде никаких неприятностей не было.     
     </p>
   </body>
</html>
```

Результат:


```
<!doctype html>
<html>
<head>
<title>Hello World!</title>
<link rel="stylesheet" href="/css/main.css">
<link rel="shortcut icon" href="/favicon.png" type="image/png">
</head>
<body>
<a href="/index.html">Главная</a> <h1> Котёнок по имени Гав </h1>
<pre>
        На чердаке жил котёнок по имени Гав. Он был рыжий. 
        
        Когда соседский кот узнал, что рыжего котёнка зовут Гав, он почесал спинку о трубу соседского дома и сказал:
        
         — Я бы не советовал котёнку с таким именем спускаться во двор. Во дворе котёнка с таким именем ждут одни неприятности.   
     </pre>
<p>
Котёнок Гав услышал и подумал: «Что это за неприятности и зачем они меня ждут?». Гав сейчас же спустился во двор и внимательно осмотрел все закоулки — нигде никаких неприятностей не было.
</p>
</body>
</html>
```

## 2. Включение CSS-кода внутрь HTML-файла

Вам необходимо заменить все теги `<link>` с атрибутом `rel="stylesheet"` на теги `<style>`, внутри которых заключен CSS-код соответвующих файлов. 

Путь до файлов CSS указывается в атрибует `href`. Вы должны поддерживать как относительные пути, так и абсолютный путь, начинающийся с `/`. В обоих случаях путь берется относительно положения HTML-файла. Например, пусть файл находится в папке `c:/documents/site/index.html`, тогда:

_Абсолютный путь:_

- `/v.css` станет `c:/documents/site/v.css` 

_Относительные пути:_

- `../w.css` станет  `c:/documents/w.css`
- `x.css` станет `c:/documents/site/x.css`
- `./style/y.css` станет `c:/documents/site/style/y.css`
- `folder/z.css` станет `c:/documents/site/folder/z.css`

При включении CSS файлов внутри HTML необходимо помнить, что относительные пути в CSS-файлах (в `url(...)` и в `@import`) задаются относительно положения CSS-файла. При вставке кода файлов внутрь HTML вам нужно скоректировать пути. Например, пусть `/css/main.css` из предыдущего примера содержит следующий код:

```
@import 'theme.css'

body {
  color: red;
  background: url('../images/bg.jpg')
}

```

Выходной HTML-файл:

```
<!doctype html>
<html>
<head>
<title>Hello World!</title>
<style>
@import '/css/theme.css'

body {
  color: red;
  background: url('/images/bg.jpg')
}
</style>
<link rel="shortcut icon" href="/favicon.png" type="image/png">
</head>
<body>
<a href="/index.html">Главная</a> <h1> Котёнок по имени Гав </h1>
<pre>
        На чердаке жил котёнок по имени Гав. Он был рыжий. 
        
        Когда соседский кот узнал, что рыжего котёнка зовут Гав, он почесал спинку о трубу соседского дома и сказал:
        
         — Я бы не советовал котёнку с таким именем спускаться во двор. Во дворе котёнка с таким именем ждут одни неприятности.   
     </pre>
<p>
Котёнок Гав услышал и подумал: «Что это за неприятности и зачем они меня ждут?». Гав сейчас же спустился во двор и внимательно осмотрел все закоулки — нигде никаких неприятностей не было.
</p>
</body>
</html>
```

Минифицировать CSS не нужно


## 3. Рекурсивное включение CSS-файлов

Если подключенный CSS-файл содержит `@import` другого файла, то вам нужно его так же включить внутрь HTML-файла по тем же правилам. Например, пусть в предыдущем примере:

Структура файлов:
```
index.html <- входной файл
css/
 |- main.css
 |- theme.css
lib/
 |- lib.css
 |- point.png
images/
 |- bg.jpg
```


Файл `/css/theme.css`:

```
@import '../lib/lib.css'

a {
  color: green
}
```

Файл `/lib/lib.css`:

```
a:before{
  content: "";
  display: inline-block;
  background: url('point.png');
  width: 20px;
  height: 20px;
}
```

Тогда выходной файл будет следующим:

```
<!doctype html>
<html>
<head>
<title>Hello World!</title>
<style>
a:before{
  content: "";
  display: inline-block;
  background: url('/lib/point.png');
  width: 20px;
  height: 20px;
}

a {
  color: green
}

body {
  color: red;
  background: url('/images/bg.jpg')
}
</style>
<link rel="shortcut icon" href="/favicon.png" type="image/png">
</head>
<body>
<a href="/index.html">Главная</a> <h1> Котёнок по имени Гав </h1>
<pre>
        На чердаке жил котёнок по имени Гав. Он был рыжий. 
        
        Когда соседский кот узнал, что рыжего котёнка зовут Гав, он почесал спинку о трубу соседского дома и сказал:
        
         — Я бы не советовал котёнку с таким именем спускаться во двор. Во дворе котёнка с таким именем ждут одни неприятности.   
     </pre>
<p>
Котёнок Гав услышал и подумал: «Что это за неприятности и зачем они меня ждут?». Гав сейчас же спустился во двор и внимательно осмотрел все закоулки — нигде никаких неприятностей не было.
</p>
</body>
</html>
```
